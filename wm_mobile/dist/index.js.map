{"version":3,"sources":["index.js","../../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["dotenv","config","__filename","fileURLToPath","import","meta","url","__dirname","dirname","app","express","set","port","use","cors","bodyParser","json","urlencoded","extended","minifyHTML","override","exception_url","htmlMinifier","removeComments","collapseWhitespace","collapseBooleanAttributes","removeAttributeQuotes","removeEmptyAttributes","minifyJS","static","session","key","secret","resave","saveUninitialized","cookie","expires","get","req","res","render","page","error","e","console","log","message","title","post","body","mail","password","loginUrl","API_PATH","admin","id","fetch","respU","o","user","statUrl","Id","Permission","respSt","stat","data","FILE_PATH","Image","substring","desks","selectedDesk","selectedWorker","selectedType","types","eTypes","bLinks","redirect","newEventParams","dataUrls","respD","items","periods","to","moment","valueOf","month","startOf","quarter","year","all","add","query","desk","parseInt","worker","type","dw","unshift","workers","find","d","sd","sw","uEvents","respE","events","eventIcon","eventSummary","dwUrl","respW","dataW","map","Name","fUrl","respF","files","fileList","renderFileList","isDep","newEvent","dataUrl","form","myForm","WorkerId","DeskId","Amount","msg","tp","txt","action","JSON","stringify","EventType","Date","format","CloseDate","method","headers","result","lastID","newDesk","StartDate","newWorker","uWorkers","workerCategory","fullName","resp","st","pageData","dic","amount","length","destroy","base","slice","originalUrl","replace","finder","createFinderIndex","formidable","IncomingForm","parse","err","fields","file","fileToStt","filepath","transcript","actions","src","act","text","checkFormField","listen","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","document","appendChild","getElementById","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"index.js","sourceRoot":"..","sourcesContent":["import * as dotenv from 'dotenv'\r\ndotenv.config()\r\n//import urlExists from 'url-exists-deep'\r\nimport {\r\n    admin, eTypes, bLinks, eventSummary, eventIcon, workerCategory, fullName,\r\n    API_PATH, FILE_PATH, MOBILE_PATH, dic, createFinderIndex,\r\n    newDesk, newWorker, newEvent, renderFileList, checkFormField\r\n} from './utils/common.js'\r\nimport moment from 'moment'\r\nimport fetch from 'cross-fetch'\r\nimport bodyParser from 'body-parser'\r\nimport express from 'express'\r\nimport cors from 'cors'\r\nimport session from 'express-session'\r\nimport minifyHTML from 'express-minify-html-2'\r\nimport { fileToStt } from './utils/filetToStt.js'\r\nimport formidable from \"formidable\"\r\nimport { fileURLToPath } from 'url'\r\nimport { dirname } from 'path'\r\n\r\nimport { myForm } from './utils/formGenerator.js'\r\n\r\nconst __filename = fileURLToPath(import.meta.url)\r\nconst __dirname = dirname(__filename)\r\n\r\nconst app = express()\r\napp.set('view engine', 'ejs')\r\napp.set('views', './views')\r\nconst port = 7000\r\n\r\napp.use(cors())\r\napp.use(bodyParser.json())        // to support JSON-encoded bodies\r\napp.use(bodyParser.urlencoded({     // to support URL-encoded bodies\r\n    extended: true\r\n}))\r\n\r\napp.use(minifyHTML({\r\n    override: true,\r\n    exception_url: false,\r\n    htmlMinifier: {\r\n        removeComments: true,\r\n        collapseWhitespace: true,\r\n        collapseBooleanAttributes: true,\r\n        removeAttributeQuotes: true,\r\n        removeEmptyAttributes: true,\r\n        minifyJS: true\r\n    }\r\n}))\r\n\r\napp.use('/', express.static(__dirname + '/public'))\r\n\r\napp.use(session({\r\n    key: 'user_sid',\r\n    secret: 'somerandonstuffs',\r\n    resave: false,\r\n    saveUninitialized: false,\r\n    cookie: {\r\n        expires: 600000\r\n    }\r\n}))\r\n\r\n// login page\r\napp.get('/login', async (req, res) => {\r\n    try {\r\n        res.render('login',\r\n            {\r\n                page: 'login',\r\n                error: ''\r\n            })\r\n    } catch (e) {\r\n        console.log(e.message)\r\n        res.render('error', { page: 'login', title: 'login', error: e.message })\r\n    }\r\n})\r\n\r\n// login operation\r\napp.post('/login', async (req, res) => {\r\n    const { mail, password } = req.body\r\n    const loginUrl = `${API_PATH}account/loginExt?${admin.key}=${admin.id}&mail=${mail}&password=${password}`\r\n    const respU = await fetch(loginUrl)\r\n    const o = await respU.json()\r\n    if (o && o.user) {\r\n\r\n        const statUrl = `${API_PATH}account/userStat?${admin.key}=${admin.id}&id=${o.user.Id}&prm=${o.user.Permission}`\r\n        const respSt = await fetch(statUrl)\r\n        const stat = await respSt.json()\r\n        req.session.data = {\r\n            page: 'index',\r\n            user: { ...o.user, 'Stat': stat, 'Image': `${FILE_PATH}${o.user.Image.substring(1)}` },\r\n            desks: o.desks,\r\n            selectedDesk: 0,\r\n            selectedWorker: 0,\r\n            selectedType: 'opened',\r\n            types: eTypes,\r\n            bLinks: bLinks\r\n        }\r\n        res.redirect('/')\r\n    } else {\r\n        res.render('login', { page: 'login', error: 'זיהוי משתמש נכשל' })\r\n    }\r\n})\r\n\r\n// home page\r\napp.get('/', (req, res) => {\r\n    if (!req.session.data)\r\n        res.render('login', { page: 'login', error: '' })\r\n    else\r\n        res.render('index', { ...req.session.data, page: 'index', title: 'ברוכים הבאים!', newEventParams: '' })\r\n})\r\n\r\n// reports\r\napp.get('/reports', async (req, res) => {\r\n    if (!req.session.data)\r\n        res.render('login', { ...req.session.data, page: 'login', error: '' })\r\n    else {\r\n        const dataUrls = `${API_PATH}desks?${admin.key}=${admin.id}&limit=100`\r\n        const respD = await fetch(dataUrls)\r\n        const desks = (await respD.json()).items\r\n        const periods = {\r\n            to: moment().valueOf(),\r\n            month: moment().startOf('month').valueOf(),\r\n            quarter: moment().startOf('quarter').valueOf(),\r\n            year: moment().startOf('year').valueOf(),\r\n            all: moment().add(-10, 'Y').valueOf()\r\n        }\r\n        res.render('reports', {\r\n            ...req.session.data,\r\n            page: 'reports',\r\n            title: 'מחולל דוחות',\r\n            newEventParams: '',\r\n            desks,\r\n            periods,\r\n            selectedDesk: desks[0].Id\r\n        })\r\n    }\r\n})\r\n\r\n// manual\r\napp.get('/manual', (req, res) => {\r\n    if (!req.session.data)\r\n        res.render('login', { ...req.session.data, page: 'login', error: '' })\r\n    else\r\n        res.render('manual', { ...req.session.data, page: 'manual', title: 'מדריך למשתמש', newEventParams: '' })\r\n})\r\n\r\n\r\n// pages\r\napp.get('/events', async (req, res) => {\r\n    if (!req.session.data)\r\n        res.render('login', { page: 'login', error: '' })\r\n    else {\r\n        try {\r\n            if (req.query.desk) req.session.data.selectedDesk = parseInt(req.query.desk)\r\n            if (req.query.worker) req.session.data.selectedWorker = parseInt(req.query.worker)\r\n            if (req.query.type) req.session.data.selectedType = req.query.type\r\n            //console.log(req.query.worker, typeof(req.query.worker))\r\n            const { selectedDesk, selectedWorker, selectedType } = req.session.data\r\n            const dataUrls = `${API_PATH}dataForStt?${admin.key}=${admin.id}` //dataForFilters\r\n            const respD = await fetch(dataUrls)\r\n            const dw = await respD.json()\r\n            let desks = dw.desks\r\n            desks.unshift({ \"Id\": 0, \"Name\": \"כל הקופות\" })\r\n\r\n            let workers = dw.workers\r\n            workers.unshift({ \"Id\": 0, \"Name1\": \"כל העובדים\" })\r\n            const worker = workers.find(d => d.Id == selectedWorker)\r\n\r\n            const sd = selectedDesk === 0 ? '' : `&desk=${selectedDesk}`\r\n            const sw = selectedWorker === 0 ? '' : `&worker=${selectedWorker}`\r\n            const uEvents = `${API_PATH}events?${admin.key}=${admin.id}&type=${selectedType}${sd}${sw}&limit=100`\r\n            const respE = await fetch(uEvents)\r\n            const events = (await respE.json()).items\r\n\r\n            await res.render('events',\r\n                {\r\n                    ...req.session.data,\r\n                    page: 'events',\r\n                    title: 'אירועים',\r\n                    id: 0,\r\n                    newEventParams: '',\r\n                    desks,\r\n                    workers,\r\n                    events,\r\n                    eventIcon,\r\n                    eventSummary\r\n                })\r\n        } catch (e) {\r\n            console.log(e.message)\r\n            res.render('error', { page: 'events', title: 'אירועים', error: e.message })\r\n        }\r\n    }\r\n\r\n})\r\n\r\napp.get('/eventCard', async (req, res) => {\r\n    if (!req.session.data)\r\n        res.render('login', { page: 'login', error: '' })\r\n    else {\r\n\r\n        try {\r\n            // desk and workers\r\n            const dwUrl = `${API_PATH}events/desksAndWorkers?${admin.key}=${admin.id}&id=${req.query.id}`\r\n            const respW = await fetch(dwUrl)\r\n            const dataW = await respW.json()\r\n            const desks = dataW.desks.map(d => { return { 'v': d.Id, 'n': d.Name } })\r\n            const workers = dataW.workers.map(d => { return { 'v': d.Id, 'n': d.Name } })\r\n            const fUrl = `${API_PATH}events/files?${admin.key}=${admin.id}&id=${req.query.id}`\r\n            const respF = await fetch(fUrl)\r\n            const files = await respF.json()\r\n            const id = parseInt(req.query.id)\r\n            const fileList = renderFileList(files, id)\r\n            // card data\r\n            let data\r\n            if (id === 0 && req.query.isDep) {\r\n                data = { ...newEvent(req, desks, workers) }\r\n            } else {\r\n                const dataUrl = `${API_PATH}events/card?${admin.key}=${admin.id}&id=${id}`\r\n                const respD = await fetch(dataUrl)\r\n                data = await respD.json()\r\n            }\r\n            data = { ...data, desks, workers, files }\r\n            const form = new myForm('event', data)\r\n\r\n            //console.log(data)\r\n\r\n            res.render('eventCard',\r\n                {\r\n                    ...req.session.data,\r\n                    page: 'eventCard',\r\n                    title: id === 0 ? 'אירוע חדש' : `אירוע ${id}`,\r\n                    id: id,\r\n                    newEventParams: `&worker=${data.WorkerId}&desk=${data.DeskId}`,\r\n                    fileList: fileList,\r\n                    form: [form.render(0), form.render(1)],\r\n                    isDep: data.Amount > 0,\r\n                    message: !req.query.msg ? '' : (req.query.msg == '1' ? { tp: 'success', txt: 'הפעולה בוצעה בהצלחה' } : { tp: 'danger', txt: 'שגיאה' })\r\n                })\r\n        } catch (e) {\r\n            console.log(e.message)\r\n            res.render('error', { page: 'eventCard', title: `אירוע ${req.query.id}`, error: e.message })\r\n        }\r\n    }\r\n})\r\n\r\napp.get('/eventFiles', async (req, res) => {\r\n    if (!req.session.data)\r\n        res.render('login', { page: 'login', error: '' })\r\n    else {\r\n        try {\r\n            const fUrl = `${API_PATH}events/files?${admin.key}=${admin.id}&id=${req.query.id}`\r\n            const respF = await fetch(fUrl)\r\n            const files = await respF.json()\r\n            const fileList = renderFileList(files, parseInt(req.query.id))\r\n            res.json({ files: fileList })\r\n        } catch (e) {\r\n            console.log(e.message)\r\n            res.json({ page: 'eventFiles', title: `אירוע ${req.query.id}`, error: e.message })\r\n        }\r\n    }\r\n})\r\n\r\napp.post('/eventCard', async (req, res) => {\r\n    if (!req.session.data)\r\n        res.render('login', { page: 'login', error: '' })\r\n    else {\r\n\r\n        try {\r\n            const action = parseInt(req.body.Id) === 0 ? 'create' : 'update'\r\n\r\n            const dataUrl = `${API_PATH}events/${action}?${admin.key}=${admin.id}`\r\n            const body = JSON.stringify({\r\n                ...req.body,\r\n                Amount: (req.body.EventType === 'הפקדה' ? 1 : -1) * req.body.Amount,\r\n                Date: moment(req.body.Date, 'YYYY-MM-DD').format('DD/MM/YYYY'),\r\n                CloseDate: moment(req.body.CloseDate, 'YYYY-MM-DD').format('DD/MM/YYYY')\r\n            })\r\n            const respD = await fetch(dataUrl, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body\r\n            })\r\n            const result = await respD.json()\r\n            if (result.error) {\r\n                console.log(result.error)\r\n                res.redirect(`/eventCard?id=${req.body.Id}&msg=0`)\r\n            } else {\r\n                const id = parseInt(req.body.Id) === 0 ? result.lastID : req.body.Id\r\n                res.redirect(`/eventCard?id=${id}&msg=1`)\r\n            }\r\n        } catch (e) {\r\n            console.log(e.message)\r\n            res.render('error', { page: 'eventCard', title: `אירוע ${req.query.id}`, error: e.message })\r\n        }\r\n    }\r\n})\r\n\r\napp.get('/desks', async (req, res) => {\r\n    if (!req.session.data)\r\n        res.render('login', { page: 'login', error: '' })\r\n    else {\r\n        try {\r\n            const dataUrls = `${API_PATH}desks?${admin.key}=${admin.id}&limit=100`\r\n            const respD = await fetch(dataUrls)\r\n            const desks = (await respD.json()).items\r\n            res.render('desks',\r\n                {\r\n                    ...req.session.data,\r\n                    page: 'desks',\r\n                    title: 'קופות',\r\n                    id: 0,\r\n                    newEventParams: '',\r\n                    desks: desks\r\n                })\r\n        } catch (e) {\r\n            console.log(e.message)\r\n            res.render('error', { page: 'desks', title: 'קופות', error: e.message })\r\n        }\r\n    }\r\n})\r\n\r\napp.get('/deskCard', async (req, res) => {\r\n    if (!req.session.data)\r\n        res.render('login', { page: 'login', error: '' })\r\n    else {\r\n\r\n        try {\r\n            let data\r\n            if (parseInt(req.query.id) === 0) {\r\n                data = { ...newDesk }\r\n            } else {\r\n                const dataUrl = `${API_PATH}desks/card?${admin.key}=${admin.id}&id=${req.query.id}`\r\n                const respD = await fetch(dataUrl)\r\n                data = await respD.json()\r\n            }\r\n            const form = new myForm('desk', data)\r\n            const id = parseInt(req.query.id)\r\n            res.render('deskCard',\r\n                {\r\n                    ...req.session.data,\r\n                    page: 'deskCard',\r\n                    id: id,\r\n                    title: `קופה ${id === 0 ? 'חדשה' : id}`,\r\n                    newEventParams: `&desk=${id}`,\r\n                    form: form.render(),\r\n                    message: !req.query.msg ? '' : (req.query.msg == '1' ? { tp: 'success', txt: 'הפעולה בוצעה בהצלחה' } : { tp: 'danger', txt: 'שגיאה' })\r\n                })\r\n        } catch (e) {\r\n            console.log(e.message)\r\n            res.render('error', { page: 'deskCard', title: `קופה ${req.query.id}`, error: e.message })\r\n        }\r\n    }\r\n})\r\n\r\napp.post('/deskCard', async (req, res) => {\r\n    if (!req.session.data)\r\n        res.render('login', { page: 'login', error: '' })\r\n    else {\r\n        try {\r\n            const action = parseInt(req.body.Id) === 0 ? 'create' : 'update'\r\n\r\n            const dataUrl = `${API_PATH}desks/${action}?${admin.key}=${admin.id}`\r\n            const body = JSON.stringify({ ...req.body, StartDate: moment(req.body.StartDate, 'YYYY-MM-DD').format('DD/MM/YYYY') })\r\n            const respD = await fetch(dataUrl, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body\r\n            })\r\n            const result = await respD.json()\r\n            if (result.error) {\r\n                console.log(result.error)\r\n                res.redirect(`/deskCard?id=${req.body.Id}&msg=0`)\r\n            } else {\r\n                const id = parseInt(req.body.Id) === 0 ? result.lastID : req.body.Id\r\n                res.redirect(`/deskCard?id=${id}&msg=1`)\r\n            }\r\n        } catch (e) {\r\n            console.log(e.message)\r\n            res.render('error', { page: 'deskCard', title: `קופה ${req.query.id}`, error: e.message })\r\n        }\r\n    }\r\n})\r\n\r\napp.get('/workerCard', async (req, res) => {\r\n    if (!req.session.data)\r\n        res.render('login', { page: 'login', error: '' })\r\n    else {\r\n\r\n        try {\r\n            let data\r\n            if (parseInt(req.query.id) === 0) {\r\n                data = { ...newWorker }\r\n            } else {\r\n                const dataUrl = `${API_PATH}workers/card?${admin.key}=${admin.id}&id=${req.query.id}`\r\n                const respD = await fetch(dataUrl)\r\n                data = await respD.json()\r\n            }\r\n            //console.log(data)\r\n            const form = new myForm('worker', data)\r\n            const id = parseInt(req.query.id)\r\n            res.render('deskCard',\r\n                {\r\n                    ...req.session.data,\r\n                    page: 'workerCard',\r\n                    title: id === 0 ? 'עובד חדש' : `עובד ${req.query.id}`,\r\n                    id: id,\r\n                    newEventParams: `&worker=${id}`,\r\n                    form: form.render(),\r\n                    message: !req.query.msg ? '' : (req.query.msg == '1' ? { tp: 'success', txt: 'הפעולה בוצעה בהצלחה' } : { tp: 'danger', txt: 'שגיאה' })\r\n                })\r\n        } catch (e) {\r\n            console.log(e.message)\r\n            res.render('error', { page: 'workerCard', title: `עובד ${req.query.id}`, error: e.message })\r\n        }\r\n    }\r\n})\r\n\r\napp.post('/workerCard', async (req, res) => {\r\n    if (!req.session.data)\r\n        res.render('login', { page: 'login', error: '' })\r\n    else {\r\n        try {\r\n            const action = parseInt(req.body.Id) === 0 ? 'create' : 'update'\r\n\r\n            const dataUrl = `${API_PATH}workers/${action}?${admin.key}=${admin.id}`\r\n            const body = JSON.stringify({ ...req.body })\r\n            const respD = await fetch(dataUrl, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body\r\n            })\r\n            const result = await respD.json()\r\n            if (result.error) {\r\n                console.log(result.error)\r\n                res.redirect(`/workerCard?id=${req.body.Id}&msg=0`)\r\n            } else {\r\n                const id = parseInt(req.body.Id) === 0 ? result.lastID : req.body.Id\r\n                res.redirect(`/workerCard?id=${id}&msg=1`)\r\n            }\r\n        } catch (e) {\r\n            console.log(e.message)\r\n            res.render('error', { page: 'workerCard', title: `עובד ${req.query.id}`, error: e.message })\r\n        }\r\n    }\r\n})\r\n\r\napp.get('/workers', async (req, res) => {\r\n    if (!req.session.data)\r\n        res.render('login', { page: 'login', error: '' })\r\n    else {\r\n        try {\r\n            const uWorkers = `${API_PATH}workers?${admin.key}=${admin.id}&limit=200`\r\n            const respW = await fetch(uWorkers)\r\n            const workers = (await respW.json()).items\r\n            res.render('workers',\r\n                {\r\n                    ...req.session.data,\r\n                    page: 'workers',\r\n                    title: 'עובדים',\r\n                    id: 0,\r\n                    newEventParams: '',\r\n                    workers,\r\n                    workerCategory,\r\n                    fullName\r\n                })\r\n        } catch (e) {\r\n            console.log(e.message)\r\n            res.render('error', { page: 'workers', title: 'עובדים', error: e.message })\r\n        }\r\n    }\r\n})\r\n\r\n// search\r\n//const url = `/api/desks?limit=${initState.size}&skip=${skip}&arc=${state.arc}&sort=${state.sort}&dir=${state.dir}&key=${state.key}`\r\napp.get('/search', async (req, res) => {\r\n    if (!req.session.data)\r\n        res.render('login', { page: 'login', error: '' })\r\n    else {\r\n        try {\r\n            const type = req.query.type ?? 'events'\r\n            const key = req.query.key\r\n            const url = `${API_PATH}${type}?${admin.key}=${admin.id}&limit=200&key=${key}`\r\n            const resp = await fetch(url)\r\n            const data = await resp.json()\r\n            const st = 'חיפוש'\r\n            let pageData = {\r\n                ...req.session.data,\r\n                page: 'search',\r\n                title: `${st} - ${dic[type]}`,\r\n                id: 0,\r\n                newEventParams: '',\r\n                type,\r\n                key,\r\n                amount: data.items.length,\r\n                workerCategory,\r\n                fullName,\r\n                eventIcon,\r\n                eventSummary\r\n            }\r\n            pageData[type] = data.items\r\n            res.render('search', pageData)\r\n        } catch (e) {\r\n            console.log(e.message)\r\n            res.render('error', { page: 'search', title: 'תוצאות חיפוש', error: e.message })\r\n        }\r\n    }\r\n})\r\n\r\n/* app.get('/loginExt', async (req, res) => {\r\n    try {\r\n        const url = `${API_PATH}/api/account/loginExt/?alex=1&mail=alex@k.com&password=123`\r\n        const resp = await fetch(url)\r\n        const result = (await resp.json())\r\n        res.json(result)\r\n    } catch (e) {\r\n        console.log(e.message)\r\n        res.json({ page: 'login', title: 'login', error: e.message })\r\n    }\r\n}) */\r\n\r\napp.get('/logout', async (req, res) => {\r\n    req.session.destroy(() => {\r\n        res.redirect('/login')\r\n    })\r\n})\r\n\r\napp.get('/proxy_get/*', async (req, res) => {\r\n    const base = API_PATH.slice(0, -1)\r\n    const url = req.originalUrl.replace('/proxy_get', base)\r\n    const resp = await fetch(url)\r\n    const result = (await resp.json())\r\n    res.json(result)\r\n})\r\n\r\n// voice commands\r\napp.get('/test', (req, res) => {   \r\n    res.render('voiceTest', { page: 'voiceTest', error: '' })\r\n})\r\n\r\napp.get('/voice', async (req, res) => {\r\n    res.render('voice', {\r\n        page: 'voice',\r\n        error: ''\r\n    })\r\n})\r\n\r\nlet finder = null\r\napp.post('/stt', async (req, res) => {\r\n    if (!finder) {\r\n        finder = await createFinderIndex()\r\n    }\r\n    const form = new formidable.IncomingForm()\r\n    form.parse(req, async function (err, fields, file) {\r\n        const transcript = await fileToStt(file.file.filepath)\r\n        const actions = finder.find(transcript)\r\n        res.json({ src: transcript, act: actions })\r\n    })\r\n})\r\n\r\napp.get('/sttFromTranscript', async (req, res) => {\r\n    if (!finder) {\r\n        finder = await createFinderIndex()\r\n    }\r\n    const transcript = req.query.text\r\n    const actions = finder.find(transcript)\r\n    res.json({ src: transcript, act: actions })\r\n})\r\n\r\nvar desks = null\r\napp.post('/sttFormTest', async (req, res) => {   \r\n    if(!desks){\r\n        //\r\n    }\r\n    const form = new formidable.IncomingForm()\r\n    form.parse(req, async function (err, fields, file) {        \r\n        const transcript = await fileToStt(file.file.filepath)\r\n        const result = checkFormField(transcript)        \r\n        res.json({...result})\r\n    })\r\n})\r\n\r\n\r\napp.listen(port, () => {\r\n    console.log('Server started on: ' + port)\r\n})","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}